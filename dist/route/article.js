"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const article_1 = require("../controller/article");
const auth_1 = require("../middleware/auth");
const fileUpload_1 = __importDefault(require("../middleware/fileUpload"));
const articleRouter = (0, express_1.Router)();
articleRouter.post("/create", auth_1.authenticate, 
// validateReqBody(addArticleSchema),
fileUpload_1.default.single("image"), article_1.addArticle);
articleRouter.get("/slug/:slug", article_1.getArticleBySlug);
articleRouter.get("/search", article_1.searchArticles);
articleRouter.get("/all", article_1.allArticles);
articleRouter.get("/breaking", article_1.getBreakingNews);
articleRouter.get("/:id", article_1.getArticle);
articleRouter.patch("/:id", auth_1.authenticate, fileUpload_1.default.single("image"), article_1.updateArticle);
articleRouter.patch("/:id/status", auth_1.authenticate, article_1.changeArticleStatus);
exports.default = articleRouter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJ0aWNsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yb3V0ZS9hcnRpY2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEscUNBQWlDO0FBQ2pDLG1EQVMrQjtBQUMvQiw2Q0FBa0Q7QUFDbEQsMEVBQThDO0FBRTlDLE1BQU0sYUFBYSxHQUFHLElBQUEsZ0JBQU0sR0FBRSxDQUFDO0FBRS9CLGFBQWEsQ0FBQyxJQUFJLENBQ2hCLFNBQVMsRUFDVCxtQkFBWTtBQUNaLHFDQUFxQztBQUNyQyxvQkFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFDdEIsb0JBQVUsQ0FDWCxDQUFDO0FBQ0YsYUFBYSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsMEJBQWdCLENBQUMsQ0FBQztBQUNuRCxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSx3QkFBYyxDQUFDLENBQUM7QUFDN0MsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUscUJBQVcsQ0FBQyxDQUFDO0FBQ3ZDLGFBQWEsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLHlCQUFlLENBQUMsQ0FBQztBQUNoRCxhQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxvQkFBVSxDQUFDLENBQUM7QUFDdEMsYUFBYSxDQUFDLEtBQUssQ0FDakIsTUFBTSxFQUNOLG1CQUFZLEVBQ1osb0JBQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQ3RCLHVCQUFhLENBQ2QsQ0FBQztBQUNGLGFBQWEsQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLG1CQUFZLEVBQUUsNkJBQW1CLENBQUMsQ0FBQztBQUV0RSxrQkFBZSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZEFydGljbGUsXHJcbiAgYWxsQXJ0aWNsZXMsXHJcbiAgY2hhbmdlQXJ0aWNsZVN0YXR1cyxcclxuICBnZXRBcnRpY2xlLFxyXG4gIGdldEFydGljbGVCeVNsdWcsXHJcbiAgZ2V0QnJlYWtpbmdOZXdzLFxyXG4gIHNlYXJjaEFydGljbGVzLFxyXG4gIHVwZGF0ZUFydGljbGUsXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9hdXRoXCI7XHJcbmltcG9ydCB1cGxvYWQgZnJvbSBcIi4uL21pZGRsZXdhcmUvZmlsZVVwbG9hZFwiO1xyXG5cclxuY29uc3QgYXJ0aWNsZVJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuYXJ0aWNsZVJvdXRlci5wb3N0KFxyXG4gIFwiL2NyZWF0ZVwiLFxyXG4gIGF1dGhlbnRpY2F0ZSxcclxuICAvLyB2YWxpZGF0ZVJlcUJvZHkoYWRkQXJ0aWNsZVNjaGVtYSksXHJcbiAgdXBsb2FkLnNpbmdsZShcImltYWdlXCIpLFxyXG4gIGFkZEFydGljbGVcclxuKTtcclxuYXJ0aWNsZVJvdXRlci5nZXQoXCIvc2x1Zy86c2x1Z1wiLCBnZXRBcnRpY2xlQnlTbHVnKTtcclxuYXJ0aWNsZVJvdXRlci5nZXQoXCIvc2VhcmNoXCIsIHNlYXJjaEFydGljbGVzKTtcclxuYXJ0aWNsZVJvdXRlci5nZXQoXCIvYWxsXCIsIGFsbEFydGljbGVzKTtcclxuYXJ0aWNsZVJvdXRlci5nZXQoXCIvYnJlYWtpbmdcIiwgZ2V0QnJlYWtpbmdOZXdzKTtcclxuYXJ0aWNsZVJvdXRlci5nZXQoXCIvOmlkXCIsIGdldEFydGljbGUpO1xyXG5hcnRpY2xlUm91dGVyLnBhdGNoKFxyXG4gIFwiLzppZFwiLFxyXG4gIGF1dGhlbnRpY2F0ZSxcclxuICB1cGxvYWQuc2luZ2xlKFwiaW1hZ2VcIiksXHJcbiAgdXBkYXRlQXJ0aWNsZVxyXG4pO1xyXG5hcnRpY2xlUm91dGVyLnBhdGNoKFwiLzppZC9zdGF0dXNcIiwgYXV0aGVudGljYXRlLCBjaGFuZ2VBcnRpY2xlU3RhdHVzKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFydGljbGVSb3V0ZXI7XHJcbiJdfQ==